databaseChangeLog:
  - changeSet:
      id: 1
      author: student
      changes:
        - createTable:
            tableName: clients
            columns:
              - column:
                  name: username
                  type: varchar(255)
                  constraints:
                    nullable: false
                    unique: true
              - column:
                  name: password
                  type: varchar(255)
                  constraints:
                    nullable: false
              - column:
                  name: role
                  type: varchar(50)
                  constraints:
                    nullable: false
              - column:
                  name: namelastname
                  type: varchar(255)
                  constraints:
                    nullable: false
              - column:
                  name: phone
                  type: varchar(255)
                  constraints:
                    nullable: false
                    unique: true
              - column:
                  name: pasportseria
                  type: varchar(20)
                  constraints:
                    unique: true
                    nullable: false
              - column:
                  name: pasportnumber
                  type: varchar(20)
                  constraints:
                    primaryKey: true
                    unique: true

  - changeSet:
      id: 2
      author: student
      changes:
        - createTable:
            tableName: rooms
            columns:
              - column:
                  name: roomnumber
                  type: int
                  constraints:
                    primaryKey: true
              - column:
                  name: roomclass
                  type: varchar(50)
                  constraints:
                    nullable: false
              - column:
                  name: roomstatus
                  type: varchar(20)
                  constraints:
                    nullable: false
              - column:
                  name: maxguests
                  type: int
                  constraints:
                    nullable: false

  - changeSet:
      id: 3
      author: student
      changes:
        - createTable:
            tableName: additionalservices
            columns:
              - column:
                  name: serviceid
                  type: serial
                  constraints:
                    primaryKey: true
              - column:
                  name: servicename
                  type: varchar(255)
                  constraints:
                    nullable: false
              - column:
                  name: servicetime
                  type: varchar(50)
                  constraints:
                    nullable: false

  - changeSet:
      id: 4
      author: student
      changes:
        - createTable:
            tableName: orders
            columns:
              - column:
                  name: ordernumber
                  type: serial
                  constraints:
                    primaryKey: true
              - column:
                  name: clientpasportnumber
                  type: varchar(20)
                  constraints:
                    nullable: false
              - column:
                  name: checkindate
                  type: date
                  constraints:
                    nullable: false
              - column:
                  name: checkoutdate
                  type: date
                  constraints:
                    nullable: false
              - column:
                  name: guestscount
                  type: int
                  constraints:
                    nullable: false
              - column:
                  name: roomnumber
                  type: int
                  constraints:
                    nullable: false
              - column:
                  name: paymentstatus
                  type: varchar(20)
                  constraints:
                    nullable: false

  - changeSet:
      id: 5
      author: student
      changes:
        - createTable:
            tableName: orderservices
            columns:
              - column:
                  name: ordernumber
                  type: int
                  constraints:
                    nullable: false
              - column:
                  name: serviceid
                  type: int
                  constraints:
                    nullable: false
            primaryKey:
              columnNames: ordernumber, serviceid

  - changeSet:
      id: 6
      author: student
      changes:
        - createTable:
            tableName: prices
            columns:
              - column:
                  name: priceid
                  type: serial
                  constraints:
                    primaryKey: true
              - column:
                  name: objecttype
                  type: varchar(20)
                  constraints:
                    nullable: false
              - column:
                  name: objectnumber
                  type: int
                  constraints:
                    nullable: false
              - column:
                  name: baseprice
                  type: int
                  constraints:
                    nullable: false

  - changeSet:
      id: 7
      author: student
      changes:
        - addForeignKeyConstraint:
            baseTableName: orders
            baseColumnNames: clientpasportnumber
            constraintName: fk_orders_clients
            referencedTableName: clients
            referencedColumnNames: pasportnumber

  - changeSet:
      id: 8
      author: student
      changes:
        - addForeignKeyConstraint:
            baseTableName: orders
            baseColumnNames: roomnumber
            constraintName: fk_orders_rooms
            referencedTableName: rooms
            referencedColumnNames: roomnumber

  - changeSet:
      id: 9
      author: student
      changes:
        - addForeignKeyConstraint:
            baseTableName: orderservices
            baseColumnNames: ordernumber
            constraintName: fk_orderservices_orders
            referencedTableName: orders
            referencedColumnNames: ordernumber

  - changeSet:
      id: 10
      author: student
      changes:
        - addForeignKeyConstraint:
            baseTableName: orderservices
            baseColumnNames: serviceid
            constraintName: fk_orderservices_services
            referencedTableName: additionalservices
            referencedColumnNames: serviceid




